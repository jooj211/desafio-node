generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model order_product {
  id         Int      @id(map: "order_details_pkey") @default(autoincrement())
  order_id   Int
  product_id Int
  orders     orders   @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "order_details_order_id_fkey")
  products   products @relation(fields: [product_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "order_details_product_id_fkey")
}

model orders {
  id               Int             @id @default(autoincrement())
  valor_total      Float
  nome_cliente     String          @db.VarChar(255)
  cidade_cliente   String          @db.VarChar(255)
  endereco_cliente String          @db.VarChar(255)
  telefone_cliente String          @db.VarChar(255)
  restaurante_id   Int
  order_product    order_product[]
  restaurants      restaurants     @relation(fields: [restaurante_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model products {
  id             Int             @id @default(autoincrement())
  nome           String          @db.VarChar(255)
  descricao      String          @db.VarChar(255)
  quantidade     Int
  preco          Float
  categoria      String          @db.VarChar(255)
  id_restaurante Int
  order_product  order_product[]
  restaurants    restaurants     @relation(fields: [id_restaurante], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model restaurants {
  id        Int        @id @default(autoincrement())
  nome      String     @db.VarChar(255)
  email     String     @db.VarChar(255)
  senha     String     @db.VarChar(255)
  categoria String     @db.VarChar(255)
  cidade    String     @db.VarChar(255)
  endereco  String     @db.VarChar(255)
  telefone  String     @db.VarChar(255)
  orders    orders[]
  products  products[]
}
